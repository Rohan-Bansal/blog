<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>
        Apollo - The Blog
    </title>
    
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Exo">

    <link
          rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"
        />

    
<link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css">

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/css/style.css">

    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script> -->
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Apollo - The Blog" type="application/atom+xml">
</head>

<body id="bodyx">
    <div class="hd posts">
    <a href="/index.html"><i class="fa fa-reply replay-btn" aria-hidden="true"></i></a>
    <div class="post-title">
        <h5>
            Compiling Aseprite for Linux
        </h5>
        <hr>
    </div>
    <div class="post-content post-box">
        <p>This post details my experience compiling Aseprite (the most popular pixelart editor) for Ubuntu. It was poorly documented, so I aim to be as concise as possible so those reading have no trouble. </p>
<p>That being said, this guide is for compiling Aseprite on Linux, not Windows. Windows has a few extra steps, and I’ll link a handy guide <a href="https://www.youtube.com/watch?v=si7N0GeqOH8" target="_blank" rel="noopener">here</a>.</p>
<h1 id="Compiling-Tools"><a href="#Compiling-Tools" class="headerlink" title="Compiling Tools"></a>Compiling Tools</h1><p>On Linux, Aseprite requires the following packages:</p>
<p><code>g++ cmake ninja-build libx11-dev libxcursor-dev libxi-dev libgl1-mesa-dev libfontconfig1-dev</code></p>
<p>Install them with your package manager of choice. For example, on Ubuntu:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y g++ cmake ninja-build libx11-dev libxcursor-dev libxi-dev libgl1-mesa-dev libfontconfig1-dev</span><br></pre></td></tr></table></figure>

<p>You also need CMake version 3.14 or higher. To check, run:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake --version</span><br></pre></td></tr></table></figure>

<p>Next, the Ninja build system is needed. Here are a few installation methods by distro:</p>
<p>Arch: <code>pacman -S ninja</code></p>
<p>Debian/Ubuntu: <code>apt-get install ninja-build</code></p>
<p>Fedora: <code>dnf install ninja-build</code></p>
<h2 id="Skia"><a href="#Skia" class="headerlink" title="Skia"></a>Skia</h2><p>Last but not least, you will need both depot_tools and the Skia graphics library. There are two methods, compiling Skia from source or downloading a prebuilt binary.</p>
<h3 id="Compiling-From-Source"><a href="#Compiling-From-Source" class="headerlink" title="Compiling From Source"></a>Compiling From Source</h3><p>The following script creates a <code>dep</code> folder in your root directory to store both packages in. Note that compiling Skia will take a while, depending on the machine.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mkdir <span class="variable">$HOME</span>/deps</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$HOME</span>/deps</span><br><span class="line">git <span class="built_in">clone</span> https://chromium.googlesource.com/chromium/tools/depot_tools.git</span><br><span class="line">git <span class="built_in">clone</span> -b aseprite-m81 https://github.com/aseprite/skia.git</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">"<span class="variable">$&#123;PWD&#125;</span>/depot_tools:<span class="variable">$&#123;PATH&#125;</span>"</span></span><br><span class="line"><span class="built_in">cd</span> skia</span><br><span class="line">python tools/git-sync-deps</span><br><span class="line">gn gen out/Release-x64 --args=<span class="string">"is_debug=false is_official_build=true skia_use_system_expat=false skia_use_system_icu=false skia_use_system_libjpeg_turbo=false skia_use_system_libpng=false skia_use_system_libwebp=false skia_use_system_zlib=false"</span></span><br><span class="line">ninja -C out/Release-x64 skia modules</span><br></pre></td></tr></table></figure>

<h3 id="Prebuilt-Binary"><a href="#Prebuilt-Binary" class="headerlink" title="Prebuilt Binary"></a>Prebuilt Binary</h3><p>Before downloading anything, run: </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/deps ~/deps/skia</span><br></pre></td></tr></table></figure>

<p>This ensures the binary is easily accessible by the aseprite install script detailed later in the article. Feel free to change the path, but remember to change the directory in the install script as well.</p>
<p>Then, go ahead and download the <a href="https://github.com/aseprite/skia/releases" target="_blank" rel="noopener">release</a>. Make sure the branch is Skia-m81. After downloading, extract the contents into the <code>deps/skia</code> directory. </p>
<h1 id="Compiling-Aseprite"><a href="#Compiling-Aseprite" class="headerlink" title="Compiling Aseprite"></a>Compiling Aseprite</h1><p>Now, you have to pull the official GitHub repository for Aseprite. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --recursive https://github.com/aseprite/aseprite.git</span><br></pre></td></tr></table></figure>

<p>The line above will create a folder called <code>aseprite</code> in the directory you ran the command in. I recommend creating it in your root directory, but it shouldn’t matter where.</p>
<p>For future reference, to update Aseprite, run the following commands:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> aseprite</span><br><span class="line">git pull</span><br><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></table></figure>

<p>Next, you have to create a build directory to store compile output and the generated Aseprite binary. Modify the first command below if you cloned Aseprite in a different location.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/aseprite</span><br><span class="line">mkdir build</span><br><span class="line"><span class="built_in">cd</span> build</span><br></pre></td></tr></table></figure>

<p>There are only a few more commands to get Aseprite working! Next up is compilation with CMake. Remember, if you decided to install Skia in another location, replace <code>$HOME/deps/skia</code> with that path.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cmake \</span><br><span class="line">  -DCMAKE_BUILD_TYPE=RelWithDebInfo \</span><br><span class="line">  -DLAF_BACKEND=skia \</span><br><span class="line">  -DSKIA_DIR=<span class="variable">$HOME</span>/deps/skia \</span><br><span class="line">  -DSKIA_LIBRARY_DIR=<span class="variable">$HOME</span>/deps/skia/out/Release-x64 \</span><br><span class="line">  -G Ninja \</span><br><span class="line">  ..</span><br></pre></td></tr></table></figure>

<p>Finally, run this to compile the Aseprite binary:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ninja aseprite</span><br></pre></td></tr></table></figure>

<p>There you have it! After the compilation finishes, navigate to <code>aseprite/build/bin</code> and you should see the aseprite file. You can run it in terminal with:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./aseprite</span><br></pre></td></tr></table></figure>

<p>However, for ease of access, you may want to launch it from the applications menu or the dock. The next section explains the process of creating a desktop file to do this.</p>
<h1 id="Installing-Aseprite-Globally"><a href="#Installing-Aseprite-Globally" class="headerlink" title="Installing Aseprite Globally"></a>Installing Aseprite Globally</h1><p>To install Aseprite system-wide, you need to make use of the .desktop file format. For example, this is my entry for Aseprite, installed in <code>/usr/share/applications</code>:</p>
<p>aseprite.desktop</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">X-AppInstall-Package=aseprite</span><br><span class="line">X-AppInstall-Popcon=0</span><br><span class="line">X-AppInstall-Section=universe</span><br><span class="line"></span><br><span class="line">Name=ASEPRITE</span><br><span class="line">Comment=Sprite Editor</span><br><span class="line">Exec=aseprite</span><br><span class="line">Icon=aseprite</span><br><span class="line">Terminal=<span class="literal">false</span></span><br><span class="line">Type=Application</span><br><span class="line">Categories=Graphics;2DGraphics;RasterGraphics;</span><br><span class="line"></span><br><span class="line">X-Ubuntu-Gettext-Domain=app-install-data</span><br></pre></td></tr></table></figure>

<p>As arguments for this file differ based on distribution, we’ll use the <code>alacarte</code> package. This program is available in most package repositories, like the AUR and apt. </p>
<p>To install on Ubuntu, run:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y alacarte</span><br></pre></td></tr></table></figure>

<p>After installation, run the command <code>alacarte</code> in a terminal, and a GUI should pop up. In the left sidebar, click “Graphics”. </p>
<p>From here, the “New Item” button in the right sidebar should be clickable. A new GUI should pop up, and you can fill in details such as the name of the program (Aseprite), and the command to be run. </p>
<p>For the command, click “Browse”, navigate to <code>~/aseprite/build/bin/</code> (or wherever you installed it), and click the aseprite binary. Once you close the file chooser, the input prompt section should be filled with a command ending with “aseprite”. Finally, add a comment and an icon (if you want to), and save. </p>
<p>If you want the icon to be the official Aseprite icon, navigate to <code>~/aseprite/data/icons</code>, which has a few images to choose from.</p>
<h1 id="Done"><a href="#Done" class="headerlink" title="Done!"></a>Done!</h1><p>Aseprite should now be accessible when searching the applications menu. It should also be pinnable to the dock.</p>
<p>I hope this article helped, and good luck on your pixelart journey!</p>

    </div>
    
        <!-- Begin Mailchimp Signup Form -->
    <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
    <style type="text/css">
        #mc_embed_signup{clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
        /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
        We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
    </style>

    <div id="mc_embed_signup" style="margin-bottom: 16%;">
        <form action="https://rohanbansal.us10.list-manage.com/subscribe/post?u=eb650c2d4e1adedd983e74b4e&amp;id=3c40ef0756" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
            <div id="mc_embed_signup_scroll">
            <label for="mce-EMAIL">Subscribe</label>
            <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
            <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_eb650c2d4e1adedd983e74b4e_3c40ef0756" tabindex="-1" value=""></div>
            <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button" style="background-color: #2F323B;"></div>
            </div>
        </form>
    </div>

    <!--End mc_embed_signup-->
</div>
    <div class="footer" id="footer">
    <p>Copyright © 2020 Rohan Bansal
    </p>
</div>
<input type="hidden" id="web_style" value="black">

<script src="/libs/jquery.min.js"></script>


<script src="/libs/highlight/highlight.pack.js"></script>


<script src="/js/js.js"></script>

<style type="text/css">
.v * {
    color: #698fca;
}

.v .vlist .vcard .vhead .vsys {
    color: #3a3e4a;
}

.v .vlist .vcard .vh .vmeta .vat {
    color: #638fd5;
}

.v .vlist .vcard .vhead .vnick {
    color: #6ba1ff;
}

.v a {
    color: #8696b1;
}

.v .vlist .vcard .vhead .vnick:hover {
    color: #669bfc;
}
</style>

<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.js"></script>
<script src="js/main.js"></script>
</body>

</html>